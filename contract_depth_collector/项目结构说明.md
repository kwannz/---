# 合约深度数据收集器 - 项目结构说明

## 整理后的项目结构

```
contract_depth_collector/
├── config/                     # 配置文件
│   ├── settings.py            # 主配置文件
│   └── settings.json          # JSON配置文件
│
├── exchanges/                  # 交易所数据收集器
│   ├── __init__.py            # 包初始化
│   ├── base_collector.py      # 基础收集器类
│   ├── binance_collector.py   # 币安收集器
│   ├── bingx_collector.py     # BingX收集器
│   ├── bitunix_collector.py   # Bitunix收集器
│   ├── blofin_collector.py    # Blofin收集器
│   ├── bybit_collector.py     # Bybit收集器
│   ├── gate_collector.py      # Gate.io收集器
│   ├── kucoin_collector.py    # KuCoin收集器
│   ├── mexc_collector.py      # MEXC收集器
│   ├── okx_collector.py       # OKX收集器
│   └── weex_collector.py      # Weex收集器
│
├── utils/                      # 工具类
│   ├── __init__.py            # 包初始化
│   ├── data_processor.py      # 数据处理工具
│   └── logger_config.py       # 日志配置
│
├── lark/                       # 飞书集成系统
│   ├── bot/                   # 机器人配置
│   ├── config/                # Lark配置
│   ├── handlers/              # 消息处理器
│   ├── utils/                 # Lark工具类
│   ├── websocket/             # WebSocket相关
│   ├── logs/                  # Lark日志目录
│   ├── lark_webhook_bot.py    # 主机器人程序
│   ├── data_query.py          # 数据查询
│   ├── scheduler.py           # 定时任务调度
│   ├── start_scheduler.py     # 启动定时任务
│   ├── data_to_excel_publisher.py    # Excel数据发布
│   ├── excel_to_lark_sender.py       # Excel发送
│   ├── excel_download_sender.py      # Excel下载
│   ├── scheduled_excel_publisher.py  # 定时Excel发布
│   ├── json_formatter.py      # JSON格式化
│   ├── send_json_to_lark.py   # JSON发送
│   ├── feedback_handler.py    # 反馈处理
│   ├── set_lark_menu.py       # 菜单设置
│   ├── start_lark_webhook.py  # 启动Webhook
│   ├── lark_daemon.sh         # 守护进程
│   ├── run_lark_bot.sh        # 运行脚本
│   ├── requirements.txt       # Lark依赖
│   ├── README.md              # Lark说明
│   ├── LARK_DEPLOYMENT.md     # 部署文档
│   ├── 定时数据收集系统说明.md  # 系统说明
│   ├── Lark机器人配置指南.md   # 配置指南
│   ├── Excel发送到Lark使用指南.md  # Excel指南
│   └── JSON到Lark使用指南.md   # JSON指南
│
├── data/                       # 数据存储目录
│   └── .gitkeep               # 保持目录结构
│
├── logs/                       # 系统日志目录
│   └── .gitkeep               # 保持目录结构
│
├── main.py                     # 主程序入口
├── run.py                      # 简单运行脚本
├── start_system.py             # 系统启动程序
├── start.sh                    # 启动脚本
├── install.sh                  # 安装脚本
├── requirements.txt            # Python依赖
├── README.md                   # 项目说明
├── 交易所完整列表.md            # 交易所列表
├── 数值格式说明.md             # 数据格式说明
├── 最终交易所状态报告.md        # 交易所状态
├── 项目说明.md                 # 项目详细说明
└── 项目结构说明.md             # 本文件

```

## 整理成果

### 删除的文件类型：
1. **测试文件**: 删除了所有 `test_*.py` 文件
2. **开发脚本**: 删除了调试、分析、修复脚本
3. **临时数据**: 清空了历史深度数据和日志
4. **重复文档**: 删除了临时报告和状态文件
5. **重复代码**: 删除了 `_fixed`, `_real` 等版本文件

### 保留的核心文件：
1. **主程序**: main.py, run.py, start_system.py
2. **配置**: config/ 目录中的配置文件
3. **收集器**: exchanges/ 目录中的11个交易所收集器
4. **工具类**: utils/ 目录中的通用工具
5. **Lark集成**: lark/ 目录中的完整飞书集成系统
6. **文档**: 核心的说明文档和配置指南

### 文件统计：
- **整理前**: 约100+个文件（包括大量临时和测试文件）
- **整理后**: 约60个核心文件
- **代码清理度**: 删除了约40%的冗余文件

### 目录说明：
- `config/`: 系统配置文件
- `exchanges/`: 各交易所的深度数据收集器
- `utils/`: 通用工具和日志配置
- `lark/`: 完整的飞书机器人集成系统
- `data/`: 数据存储目录（运行时生成）
- `logs/`: 系统日志目录（运行时生成）

项目现在结构清晰，代码整洁，便于维护和部署。